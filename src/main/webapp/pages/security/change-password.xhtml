<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/pages/template/layout.xhtml">
	<ui:define name="content">
		<div class="Container100">
			<div class="ContainerIndent">
				<div class="Card ShadowEffect">
					<div class="Container100">
						<div class="ContainerIndent">
							<p:panelGrid columns="1" layout="grid" style="width:100%;">
								<h:panelGroup>
									<h:form prependId="true" id="formCreate" >
										<p:messages id="messagges" showDetail="true" closable="true"
											showSummary="false" showIcon="true">
											<p:autoUpdate />
										</p:messages>
										<div class="ui-fluid">
											<h2 class="BigTopic">#{msg.lbl_ChangePassword}</h2>
											<div class="Container100 Responsive100">
												<div class="ContainerIndent">
													<p:panelGrid columns="3" styleClass="ui-panelgrid-blank"
														layout="grid" id="panelPassw">
														<p:outputLabel value="#{msg.label_password}:"
															for="password" />
														<p:password id="password" 
															value="#{userBean.user.password}"
															>
														</p:password>
														<p:message for="password" />
														
														<p:outputLabel value="#{msg.lbl_NewPassword}:"
															for="passwordNew" />
														<p:password id="passwordNew"
															value="#{userBean.user.passwordNew}" feedback="true" required="true" weakLabel="Débil"
															goodLabel="Regular" strongLabel="Fuerte">
															<f:validateLength minimum="8" maximum="20" for="passwordNew" />
														</p:password>
														<p:message for="passwordNew" />

														<p:outputLabel value="#{msg.lbl_ConfirmNewPassword}:"
															for="passwordConfirm" />
														<p:password id="passwordConfirm"
															value="#{userBean.user.passwordConfirm}" feedback="true"
															 required="true" weakLabel="Débil"
															goodLabel="Regular" strongLabel="Fuerte">
															<f:validateLength minimum="8" maximum="20"
																for="passwordConfirm" />
														</p:password>
														<p:message for="passwordConfirm" />
													</p:panelGrid>
												</div>
											</div>
											<div class="Separator"></div>
											<div class="Wid100 Responsive100">
												<p:panelGrid columns="3" styleClass="ui-panelgrid-blank"
													layout="grid">
													<p:commandButton value="#{msg.lbl_Clean}" icon="fa fa-recycle Fs16 White"
														immediate="true" type="reset" update=":formCreate:panelPassw">
														<p:resetInput target="formCreate" />
														<f:setPropertyActionListener value="#{null}"
															target="#{userBean.user.rolesSelected}" />
													</p:commandButton>
													<p:commandButton value="#{msg.lbl_Update}" icon="fa fa-refresh Fs16 White" action="#{userBean.changePassword}"
														update=":formCreate:panelPassw" oncomplete="index">
													</p:commandButton>
													<p:commandButton value="#{msg.lbl_Cancel}" action="index" icon="fa fa-remove Fs16 White"
																	 immediate="true" update=":formCreate:panelPassw"
														>
													</p:commandButton>
												</p:panelGrid>
											</div>
										</div>
									</h:form>
								</h:panelGroup>
							</p:panelGrid>
						</div>
					</div>
				</div>
			</div>
		</div>
	</ui:define>
</ui:composition>
</html>
